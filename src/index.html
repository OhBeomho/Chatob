<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="./style.css" />
		<title>Chatob</title>
	</head>
	<body>
		<div class="room">
			<div style="display: flex; align-items: center">
				<svg
					id="introIcon"
					width="70"
					height="70"
					viewBox="0 0 100 100"
					fill="none"
					xmlns="http://www.w3.org/2000/svg"
				>
					<g clip-path="url(#clip0_1_2)">
						<path
							d="M85.3553 14.6447C78.3627 7.65203 69.4536 2.88999 59.7545 0.960735C50.0555 -0.968525 40.0021 0.0216432 30.8658 3.80603C21.7295 7.59041 13.9206 13.999 8.42652 22.2215C2.93245 30.444 -1.49321e-06 40.1109 0 50C1.49321e-06 59.8891 2.93245 69.5561 8.42652 77.7785C13.9206 86.001 21.7295 92.4096 30.8658 96.194C40.0021 99.9784 50.0555 100.969 59.7545 99.0393C69.4536 97.11 78.3627 92.348 85.3553 85.3553L74.7487 74.7487C69.8539 79.6436 63.6175 82.977 56.8282 84.3275C50.0388 85.678 43.0015 84.9849 36.6061 82.3358C30.2107 79.6867 24.7444 75.2007 20.8986 69.445C17.0527 63.6892 15 56.9224 15 50C15 43.0777 17.0527 36.3108 20.8986 30.555C24.7444 24.7993 30.2107 20.3133 36.6061 17.6642C43.0015 15.0152 50.0388 14.322 56.8282 15.6725C63.6175 17.023 69.8539 20.3564 74.7487 25.2513L85.3553 14.6447Z"
							fill="#FF0064"
						/>
					</g>
					<defs>
						<clipPath id="clip0_1_2">
							<rect width="100" height="100" fill="white" />
						</clipPath>
					</defs>
				</svg>
				<span id="introText">hatob</span>
			</div>
			<div id="select">
				<h1>Start chatting</h1>

				<div>
					<button class="button" id="toggleCreateRoomButton">Create room</button>
					<button class="button" id="toggleJoinRoomButton">Join room</button><br />
				</div>
			</div>
			<div id="createRoomDiv">
				<h1>Create Room</h1>
				<div>
					Room: <input type="text" class="input" id="roomInput" placeholder="Enter room name..." required />
				</div>
				<div>
					Username:
					<input type="text" class="input username-input" placeholder="Enter username..." required />
				</div>
				<input
					type="number"
					class="input"
					style="width: calc(100% - 20px); margin-top: 10px"
					id="maxUsersInput"
					max="100"
					min="2"
					placeholder="Max number of users"
					required
				/><br />
				<button class="button" id="createRoomButton">Create</button>
				<button class="button cancel">Cancel</button>
			</div>
			<div id="joinRoomDiv">
				<h1>Join Room</h1>
				<input type="text" class="input username-input" placeholder="Enter username..." required />
				<button class="button" id="refreshButton">
					<svg
						fill="#ffffff"
						xmlns="http://www.w3.org/2000/svg"
						viewBox="0 0 32 32"
						width="32px"
						height="32px"
					>
						<path
							d="M 16 4 C 10.886719 4 6.617188 7.160156 4.875 11.625 L 6.71875 12.375 C 8.175781 8.640625 11.710938 6 16 6 C 19.242188 6 22.132813 7.589844 23.9375 10 L 20 10 L 20 12 L 27 12 L 27 5 L 25 5 L 25 8.09375 C 22.808594 5.582031 19.570313 4 16 4 Z M 25.28125 19.625 C 23.824219 23.359375 20.289063 26 16 26 C 12.722656 26 9.84375 24.386719 8.03125 22 L 12 22 L 12 20 L 5 20 L 5 27 L 7 27 L 7 23.90625 C 9.1875 26.386719 12.394531 28 16 28 C 21.113281 28 25.382813 24.839844 27.125 20.375 Z"
						/>
					</svg>
				</button>
				<div id="roomList"></div>
				<button class="button cancel">Cancel</button>
			</div>
		</div>
		<main>
			<nav>
				<a class="brand">Chatob</a>
				<div>
					<a id="showUserList">User List</a>
				</div>
			</nav>
			<ul id="messageList"></ul>
			<div class="inputs">
				<div id="private"></div>
				<textarea id="messageInput" class="input" required></textarea>
				<button id="sendButton" class="button">Send</button>
			</div>
		</main>
		<div class="modal-bg" style="display: none">
			<div class="modal" id="userListModal">
				<h1>User List</h1>
				<div id="roomName" style="text-align: center"></div>
				<ul id="userList"></ul>
				<button class="button" id="close">Close</button>
			</div>
		</div>

		<script src="/socket.io/socket.io.js"></script>
		<script src="./chat.js"></script>
		<script>
			document
				.getElementById("introText")
				.addEventListener(
					"animationend",
					() => (document.getElementById("select").style.animation = "fadeInAnimation 0.5s forwards")
				)
		</script>
	</body>
</html>
